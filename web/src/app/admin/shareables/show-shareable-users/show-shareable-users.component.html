<div class="p-4">

    <div class="d-flex align-items-center">
        <h2>Manage users</h2>

        <div class="ml-auto">
            <div class="btn btn-sm btn-primary" (click)="addUser()"><i class="fas fa-user-plus"></i>&nbsp; Add user</div>
        </div>
    </div>
    

    <div *ngIf="resultsLength == 0">

        No users.

    </div>

    <div [hidden]="resultsLength == 0">
        <table mat-table [dataSource]="pagesData" class="mat-elevation-z0 w-100 mt-3">

            <ng-container matColumnDef="activated">
                <th mat-header-cell *matHeaderCellDef> Activated </th>
                <td mat-cell *matCellDef="let element">
                    <div *ngIf="element.activated" class="text-primary">
                        <i class="fas fa-check"></i>
                    </div>
                    <div *ngIf="!element.activated" class="text-danger">
                        <i class="fas fa-times"></i>
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> E-mail </th>
                <td mat-cell *matCellDef="let element">{{element.email}}</td>
            </ng-container>

            <ng-container matColumnDef="full_name">
                <th mat-header-cell *matHeaderCellDef> Full name </th>
                <td mat-cell *matCellDef="let element">{{element.full_name}}</td>
            </ng-container>

            <ng-container matColumnDef="role">
                <th mat-header-cell *matHeaderCellDef> Role </th>
                <td mat-cell *matCellDef="let element">
                    <ng-container *ngIf="element.role == 0">Super Admin</ng-container>
                    <ng-container *ngIf="element.role == 1">Admin</ng-container>
                    <ng-container *ngIf="element.role == 2">Editor</ng-container>
                    <ng-container *ngIf="element.role == 3">Author</ng-container>
                    <ng-container *ngIf="element.role == 4">Visitor</ng-container>
                </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let element">
                    <div (click)="editUser(element._id)" class="btn btn-outline-primary btn-sm">Edit</div>
                    <div (click)="deleteUser(element._id)" class="btn btn-outline-danger btn-sm ml-3 pointer">Delete</div>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>


        <mat-paginator [length]="resultsLength" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]" class="mt-3">
        </mat-paginator>

    </div>

</div>