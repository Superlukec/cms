<h4 class="mt-3 text-muted">Latest stats</h4>

<div class="row mt-2">
    <div class="col-12 col-lg-4">
        <div class="border bg-white my-2 p-2 shadow-sm box">

            <ng-container *ngIf="loading">
                <div class="d-flex justify-content-center align-items-center h-100">
                    <img src="/assets/preloader.gif">
                </div>
            </ng-container>

            <ng-container *ngIf="!loading">

                <ng-container *ngIf="!stats">
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <h6 class="text-danger">Failed to get stats</h6>
                    </div>
                </ng-container>

                <ng-container *ngIf="stats">


                    <div class="px-2 pt-2 stat-box">
                        <div class="d-flex flex-wrap align-items-center">
                            <div class="d-flex align-items-center" style="min-width: 150px;">
                                <h4 class="text-primary pointer" routerLink="/admin/pages">{{ stats[0].number }}</h4>                            
                                <div class="ml-3">pages</div>
                            </div>
                            <div routerLink="/admin/pages/new" class="btn btn-sm btn-outline-success ml-auto"><i class="fas fa-plus"></i> Add page
                            </div>
                        </div>
                    </div>
                    <hr />

                    <div class="px-2 latest-block">

                        <h6 class="text-secondary">LATEST</h6>

                        <ul class="list-unstyled">
                            <li *ngIf="stats[0].number == 0">No pages.</li>

                            <li *ngFor="let lat of stats[0].data">
                                <div class="d-flex">
                                    <div class="w-75 text-truncate">
                                        <a routerLink="/admin/pages/{{ lat._id }}">{{ lat.title }}</a>
                                    </div>
                                    <div class="ml-auto text-muted font-sm show-date">
                                        {{ lat.date_created | date }}
                                    </div>
                                </div>
                            </li>                            
                        </ul>


                    </div>

                </ng-container>

            </ng-container>

        </div>
    </div>

    <div class="col-12 col-lg-4">
        <div class="border bg-white my-2 p-2 shadow-sm box">

            <ng-container *ngIf="loading">
                <div class="d-flex justify-content-center align-items-center h-100">
                    <img src="/assets/preloader.gif">
                </div>
            </ng-container>


            <ng-container *ngIf="!loading">

                <ng-container *ngIf="!stats">
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <h6 class="text-danger">Failed to get stats</h6>
                    </div>
                </ng-container>

                <ng-container *ngIf="stats">

                    <div class="px-2 pt-2 stat-box">
                        <div class="d-flex flex-wrap align-items-center">
                            <div class="d-flex align-items-center" style="min-width: 150px;">
                                <h4 class="text-primary pointer" routerLink="/admin/posts">{{ stats[1].number }}</h4>
                                <div class="ml-3">posts</div>
                            </div>
                            <div routerLink="/admin/posts/new" class="btn btn-sm btn-outline-success ml-auto"><i class="fas fa-plus"></i> Add posts
                            </div>
                        </div>
                    </div>
                    <hr />

                    <div class="px-2 latest-block">

                        <h6 class="text-secondary">LATEST</h6>

                        <ul class="list-unstyled">
                            <li *ngIf="stats[1].number == 0">No posts.</li>

                            <li *ngFor="let lat of stats[1].data">
                                <div class="d-flex">
                                    <div class="w-75 text-truncate">
                                        <a routerLink="/admin/posts/{{ lat._id }}">{{ lat.title }}</a>
                                    </div>
                                    <div class="ml-auto text-muted font-sm show-date">
                                        {{ lat.date_created | date }}
                                    </div>
                                </div>
                            </li>                            
                        </ul>

                    </div>

                </ng-container>

            </ng-container>

        </div>
    </div>

    <div class="col-12 col-lg-4">
        <div class="border bg-white my-2 p-2 shadow-sm box">

            <ng-container *ngIf="loading">
                <div class="d-flex justify-content-center align-items-center h-100">
                    <img src="/assets/preloader.gif">
                </div>
            </ng-container>


            <ng-container *ngIf="!loading">

                <ng-container *ngIf="!stats">
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <h6 class="text-danger">Failed to get stats</h6>
                    </div>
                </ng-container>

                <ng-container *ngIf="stats">

                    <div class="px-2 pt-2 stat-box">
                        <div class="d-flex flex-wrap align-items-center">
                            <div class="d-flex align-items-center" style="min-width: 150px;">
                                <h4 class="text-primary pointer" routerLink="/admin/products">{{ stats[2].number }}</h4>
                                <div class="ml-3">products</div>
                            </div>
                            <div routerLink="/admin/products/new" class="btn btn-sm btn-outline-success ml-auto"><i class="fas fa-plus"></i> Add products
                            </div>
                        </div>
                    </div>
                    <hr />

                    <div class="px-2 latest-block">

                        <h6 class="text-secondary">LATEST</h6>

                        <ul class="list-unstyled">
                            <li *ngIf="stats[2].number == 0">No products.</li>

                            <li *ngFor="let lat of stats[2].data">
                                <div class="d-flex">
                                    <div class="w-75 text-truncate">
                                        <a routerLink="/admin/products/{{ lat._id }}">{{ lat.name }}</a>
                                    </div>
                                    <div class="ml-auto text-muted font-sm show-date">
                                        {{ lat.date_created | date }}
                                    </div>
                                </div>
                            </li>                            
                        </ul>
                    </div>

                </ng-container>

            </ng-container>

        </div>
    </div>
</div>